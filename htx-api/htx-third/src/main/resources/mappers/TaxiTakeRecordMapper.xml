<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.lqjk.third.mapper.TaxiTakeRecordMapper">
    <resultMap id="BaseResultMap" type="com.lqjk.third.beans.TaxiTakeRecord" >
    	<result column="id" property="id" />
        <result column="user_id" property="userId" />
        <result column="trans_order_no" property="transOrderNo" />
        <result column="start_time" property="startTime" />
        <result column="end_time" property="endTime" />
        <result column="driving_mileage" property="drivingMileage" />
        <result column="create_time" property="createTime" />
        <result column="carbon" property="carbon" />
        <result column="longevity_chain_flag" property="longevityChainFlag" />
        <result column="app_channel" property="appChannel" />
        <result column="team_no" property="teamNo" />
        <result column="third_channel" property="thirdChannel" />
        <result column="team_no" property="teamNo" />
    </resultMap>


    <sql id="Base_Column_List">
    			id,
                user_id,
                trans_order_no,
                start_time,
                end_time,
                driving_mileage,
                create_time,
                carbon,
                longevity_chain_flag,
                app_channel,
                team_no,
                third_channel,
                source

    </sql>
<insert id="insert"  parameterType="com.lqjk.third.beans.TaxiTakeRecord" useGeneratedKeys = "true" keyProperty = "id" >
        INSERT INTO taxi_take_record
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="null != userId and '' != userId">
                user_id,
            </if>
            <if test="null != transOrderNo and '' != transOrderNo">
                trans_order_no,
            </if>

            <if test="null != startTime">
                start_time,
            </if>
            <if test="null != endTime">
                end_time,
            </if>
            <if test="null != drivingMileage">
                driving_mileage,
            </if>

            <if test="null != createTime">
                create_time,
            </if>
            <if test="null != carbon ">
                carbon,
            </if>
            <if test="null != appChannel ">
                app_channel,
            </if>
            <if test="null != teamNo ">
                team_no,
            </if>
            <if test="null != thirdChannel and '' != thirdChannel">
                third_channel,
            </if>
            <if test="source != null and source != ''">
                source,
            </if>
            <if test="null != longevityChainFlag and '' != longevityChainFlag">
                longevity_chain_flag,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="null != userId and '' != userId">
                #{userId},
            </if>
            <if test="null != transOrderNo and '' != transOrderNo">
                #{transOrderNo},
            </if>
            <if test="null != startTime">
                #{startTime},
            </if>
            <if test="null != endTime">
                #{endTime},
            </if>
            <if test="null != drivingMileage">
                #{drivingMileage},
            </if>
            <if test="null != createTime">
                #{createTime},
            </if>
            <if test="null != carbon">
                #{carbon},
            </if>
            <if test="null != appChannel ">
                #{appChannel},
            </if>
            <if test="null != teamNo">
                #{teamNo},
            </if>
            <if test="null != thirdChannel and '' != thirdChannel">
                #{thirdChannel},
            </if>
            <if test="source != null and source != ''">
                #{source},
            </if>
            <if test="null != longevityChainFlag and '' != longevityChainFlag">
                #{longevityChainFlag},
            </if>
        </trim>
    </insert>
<select id="load" resultMap="BaseResultMap">
        SELECT <include refid="Base_Column_List" />
        FROM taxi_take_record
        WHERE
        trans_order_no = #{transOrderNo}
</select>
</mapper>